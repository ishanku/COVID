<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Our Little Covid Helper</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
   
   <!-- Leaflet CSS -->
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.0-rc.3/dist/leaflet.css" />
   <script src="/static/js/lib/etc/seamless/build/seamless.parent.min.js"></script>
   <script type="text/javascript">
    window.onload = function() {
      // Turns the iframe into a seamless iframe.
      window.seamless(document.getElementById('leftiframe'), {
        loading: 'I am loading!!!!',
        spinner: 'http://www.travistidwell.com/seamless.js/src/loader.gif'
      })
      window.seamless(document.getElementById('rightiframe'), {
        loading: 'I am loading!!!!',
        spinner: 'http://www.travistidwell.com/seamless.js/src/loader.gif'
      })
    };
  </script>
   <!-- Our CSS -->
  <link rel="stylesheet" type="text/css" href="/static/css/style.css">
<body>
  {% include "includes/nav.html" %}
  <!-- The div that holds our map -->
  <div class="container-fluid">
  <div class="row nogutters">
  <div id="numberbar" class="row panel col-2 justify-content-start bar-1">
    <iframe id="leftiframe" src="/covidnumbers" style="border:0px"></iframe>
  </div>
  <div id="middlebar" class="col-8 justify-content-center bar-2"></div>
  <div id="rightbar" class="col-2 justify-content-end bar-3">
    <iframe id="rightiframe" src="/rightbar" style="border:0px;min-height:900px"></iframe>
  </div>
  </div>
  </div>
  <script type="text/javascript" src="/static/js/lib/etc/pym.v1.js"></script>
  {%if child1 %}
    {%if child2 %}
    <script>
        var pymParent = new pym.Parent('middlebar', '{{child1}}/{{child2}}', {});
        d3.select("#leftiframe").attr('src','{{leftbar}}');
        //var another = new pym.Parent('numberbar', '{{leftbar}}', {});
    </script>
  {%else%}
    <script>
      var pymParent = new pym.Parent('middlebar', '{{child1}}', {});
      d3.select("#leftiframe").attr('src','{{leftbar}}');
      //var another = new pym.Parent('numberbar', '{{leftbar}}', {});
   </script>
    {%endif%}
  {% else %}    
  <script>
    var content="worldmap"
    var pymParent = new pym.Parent('middlebar', content, {});
    d3.select("#leftiframe").attr('src','covidnumbers');
    //var another = new pym.Parent('numberbar', 'covidnumbers', {});
</script>
  {% endif %}
  {% include "includes/myfooter.html" %}
   </body>
  </html>
  <!--<script>
    d3.select('#mainnav1').on('click', function(){
      //var content= d3.select(this).property('href');
      alert("Hi");
      pymcatch="child"
      content="route/worldmap"
      pymParent = new pym.Parent('middlebar', content, {});
      another = new pym.Parent('numberbar', 'covidnumbers', {trackscroll: true});
    });
    d3.select('#mainnav2').on('click', function(){
      pymcatch="child"
      content="route/regionalmap/ww";
      pymParent = new pym.Parent('middlebar', content, {});
      another = new pym.Parent('numberbar', 'covidnumbersusa', {trackscroll: true});
    });
    d3.select('#mainnav3').on('click', function(){
      pymcatch="child"
      content="route/usamap";
      pymParent = new pym.Parent('middlebar', content, {});
      another = new pym.Parent('numberbar', 'covidnumbers', {trackscroll: true});
    });
  </script>-->